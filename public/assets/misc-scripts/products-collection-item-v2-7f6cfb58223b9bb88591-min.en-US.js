webpackJsonp([45],{1863:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){return e&&e.__esModule?e:{default:e}}(i(107));t.getWidthForHeight=function(e,t,i){return e/t*i},t.getHeightForWidth=function(e,t,i){return t/e*i},t.getDimensionsFromNode=function(e){var t=e.getAttribute("data-image-dimensions");if("string"==typeof t){var i=t.split("x").map(function(e){return Number(e)}),o=(0,s.default)(i,2);return{width:o[0],height:o[1]}}return{width:null,height:null}},t.getSquarespaceSizeForWidth=function(e){return window.devicePixelRatio&&(e*=window.devicePixelRatio),e>1500?"2500w":e>1e3?"1500w":e>750?"1000w":e>500?"750w":e>300?"500w":e>100?"300w":"100w"},t.getIconUrl=function(e,t,i){return"/universal/images-v6/icons/icon-"+e+"-"+t+"-"+i+".png"}},2439:function(e,t,i){var s=i(1863);YUI.add("squarespace-image-zoom",function(e){e.namespace("Squarespace");var t=e.Squarespace.ImageZoom=e.Base.create("image-zoom",e.Base,[],{initializer:function(){this._shouldInitialize()&&this.get("host")&&this._initializeZoom()},destructor:function(){if(this._shouldInitialize()){var e=this.get("zoomedNode");e&&e.remove(!0),this.get("host").removeClass(t.CSS_PREFIX).removeClass(t.CSS_PREFIX+"--behavior-"+this.get("behavior")),this.get("dropzone").setStyle("position","").removeClass(t.CSS_PREFIX+"-dropzone"),this._zoomTriggerEvent&&this._zoomTriggerEvent.detach(),this._mouseMoveEvent&&this._mouseMoveEvent.detach(),this._mouseOutEvent&&this._mouseOutEvent.detach(),this._resizeEvent&&this._resizeEvent.detach(),this._zoomTriggerEvent=null,this._mouseMoveEvent=null,this._mouseOutEvent=null,this._resizeEvent=null}},_bindUI:function(){var t=this.get("host");this._zoomTriggerEvent=t.on(this.get("behavior"),this._toggleZoom,this),this._mouseMoveEvent=t.on("mousemove",this._trackMovement,this),this._mouseOutEvent=t.on("mouseout",this._zoomOut,this),this._resizeEvent=e.one(window).on("resize",this._refresh,this)},_shouldInitialize:function(){return!e.UA.mobile&&window.Modernizr.csstransforms},_initializeZoom:function(){var e=this.get("host"),i=e.one("img"),s=this.get("dropzone");e.addClass(t.CSS_PREFIX),e.addClass(t.CSS_PREFIX+"--behavior-"+this.get("behavior")),s.addClass(t.CSS_PREFIX+"-dropzone"),"static"===s.getStyle("position")&&s.setStyle("position","relative"),i.getAttribute("src")?(this._appendZoomedNode(),this._bindUI()):i.once("load",function(){this._appendZoomedNode(),this._bindUI()},this)},_appendZoomedNode:function(){var i=this.get("host").one("img"),s=i.getAttribute("data-src");if(!s)return null;var o=i.getAttribute("data-image-dimensions");o||(o=i.get("clientWidth")+"x"+i.get("clientHeight"));var n=i.getAttribute("data-image-focal-point");n||(n="0.5,0.5");var a=e.Node.create('<div class="'+t.CSS_PREFIX+'-duplicate"><img src="'+s+"?format="+this._getSquarespaceSizeForWidth()+'" data-image-dimensions="'+o+'" data-image-focal-point="'+n+'"></div>');a.setStyle("transform","scale("+this.get("zoom")+")"),a.one("img").plug(e.Squarespace.Loader2,{load:!0,mode:"fill"}),this.set("zoomedNode",a),this.get("dropzone").append(a)},_refresh:function(){var e=this.get("host").one("img").getAttribute("data-src"),t=this.get("zoomedNode").one("img");t.setAttribute("src",e+"?format="+this._getSquarespaceSizeForWidth()),t.fire("refresh")},_toggleZoom:function(e){this.get("_isZoomedIn")?this._zoomOut():this._zoomIn(e),e.stopPropagation()},_zoomIn:function(e){this.get("host").addClass("is-zoomed"),this.set("_isZoomedIn",!0),this._trackMovement(e)},_zoomOut:function(){this.get("host").removeClass("is-zoomed"),this.set("_isZoomedIn",!1)},_trackMovement:function(e){if(this.get("_isZoomedIn")){var t=Math.max((e.pageX-this.get("host").getX())/this.get("host").get("clientWidth")*100,0),i=Math.max((e.pageY-this.get("host").getY())/this.get("host").get("clientHeight")*100,0);this.get("zoomedNode").setStyle("transformOrigin",t+"% "+i+"%")}},_getSquarespaceSizeForWidth:function(){var e=this.get("host").one("img").get("clientWidth");return s.getSquarespaceSizeForWidth(e*this.get("zoom"))}},{CSS_PREFIX:"sqs-image-zoom",ATTRS:{host:{value:null,validator:function(t){var i=e.one(t);return e.instanceOf(i,e.Node)&&i.one("img")&&i.all("img").size()<2},writeOnce:!0},dropzone:{valueFn:function(){return this.get("host")},validator:function(t){return e.instanceOf(e.one(t),e.Node)},writeOnce:!0},behavior:{value:"hover",validator:function(e){return"hover"===e||"click"===e},writeOnce:!0},zoom:{value:1.5,validator:function(e){return!0},writeOnce:!0},_isZoomedIn:{value:!1}}})},"1.0",{requires:["base","event","node","squarespace-image-loader","yui-base"]})},3786:function(e,t){YUI.add("squarespace-products-collection-item-v2",function(e){e.namespace("Squarespace.SystemCollections.Products").ItemV2=e.Base.create("systemCollectionsProductsItemV2",e.Base,[],{initializer:function(){this._syncSelectedVariantOptions(),this._bindUI(),this._syncUI(),this.get("isLightboxEnabled")&&this._lightboxifyImages()},destructor:function(){this._resizeEvent&&this._resizeEvent.detach(),this._tweakChangeEvent&&this._tweakChangeEvent.detach(),this._tweakResetEvent&&this._tweakResetEvent.detach(),this._tweakCloseEvent&&this._tweakCloseEvent.detach(),e.Array.each(this._selectChangeEvents,function(e){e.detach()}),this._resizeEvent=null,this._tweakChangeEvent=null,this._tweakResetEvent=null,this._tweakCloseEvent=null,this._selectChangeEvents=null,this._zoomInstances&&this._zoomInstances.length>0&&this._destroyImageZoomInstances(),this.get("slideshow")&&this.get("slideshow").destroy(!0),this.get("lightbox")&&this._destroyLightbox()},_bindUI:function(){this._resizeEvent=e.on("windowresize",function(){this._syncUI()},e.config.win,this),this._tweakChangeEvent=e.Global.on("tweak:change",this._tweakChangeHandler,this),this._tweakResetEvent=e.Global.on("tweak:reset",this._syncUI,this),window.SQUARESPACE_LOGIN&&window.SQUARESPACE_LOGIN.isLoggedIn()&&e.on("beforeunload",function(){this.destroy(!0)},this)},_syncUI:function(){this.get("isProductGallerySlideshow")||this.get("isProductQuickView")?this.get("slideshow")?this._refreshSlideshowGallery():this._renderSlideshowGallery():this.get("isProductGalleryStacked")&&(this.get("isRenderedStackedGallery")?this._refreshStackedGallery():this._renderStackedGallery()),this._loadRelatedItemImages()},_tweakChangeHandler:function(e){switch(e.getName()){case"tweak-product-item-spacing":case"tweak-product-item-gallery-design":case"tweak-product-item-gallery-width":case"tweak-product-item-gallery-aspect-ratio":case"tweak-product-item-gallery-thumbnail-width":this._syncUI();case"tweak-product-item-image-zoom-enabled":case"tweak-product-item-image-zoom-behavior":case"tweak-product-item-image-zoom-factor":this.get("isImageZoomEnabled")?this._instantiateZoom():this._destroyImageZoomInstances();case"tweak-product-item-lightbox-enabled":this.get("isLightboxEnabled")?this._lightboxifyImages():this.get("lightbox")&&this._destroyLightbox()}},_syncSelectedVariantOptions:function(){this._selectChangeEvents=[],this.get("host").all(".variant-option").each(function(e){var t=e.one(".variant-select-wrapper"),i=e.one("select"),s=i.one("option").get("text");t.setAttribute("data-text",s),this._selectChangeEvents.push(e.delegate("change",function(e){var o=i.get("value"),n=""===o?s:o;t.setAttribute("data-text",n)},"select"))},this)},_renderSlideshowGallery:function(){this.get("isRenderedStackedGallery")&&this.set("isRenderedStackedGallery",!1),this.get("isImageZoomEnabled")&&this._instantiateZoom(),this.get("isProductQuickView")&&(e.one("body").removeClass("tweak-product-item-gallery-design-stacked"),e.one("body").addClass("tweak-product-item-gallery-design-slideshow")),this._instantiateSlideshow()},_instantiateSlideshow:function(){this.get("images").size()<1||(this.set("slideshow",new e.SQS.Gallery.Gallery2({container:this.get("slideContainer"),elements:{controls:this.get("thumbnailContainer")},loop:!0,design:"stacked",designOptions:{autoHeight:!1,clickBehavior:!1},loaderOptions:{mode:"fill"}})),this._loadSlideshowThumbnails())},_loadSlideshowThumbnails:function(){this.get("images").size()>1&&this.get("thumbnails").each(function(t){t.plug(e.Squarespace.Loader2,{load:!0,mode:"fill"})})},_loadRelatedItemImages:function(){this.get("relatedItemImages").each(function(t){t.hasClass("loaded")?t.fire("refresh"):t.plug(e.Squarespace.Loader2,{load:!0,mode:"fill"})})},_refreshSlideshowGallery:function(){this.get("slideshow").refresh(),this.get("thumbnails").each(function(e){e.fire("refresh")})},_destroySlideshowAndResetImageStyles:function(){this.get("slideshow").destroy(!0),this.get("images").each(function(e){e.setStyles({position:"",top:"",left:"",right:"",bottom:"",zIndex:"",width:"",height:"",overflow:""})})},_renderStackedGallery:function(){this.get("slideshow")&&(this._destroySlideshowAndResetImageStyles(),this.set("slideshow",null)),this.get("isImageZoomEnabled")&&this._instantiateZoom(),this.get("images").each(function(t){t.plug(e.Squarespace.Loader2,{load:!0,mode:null})}),this.set("isRenderedStackedGallery",!0)},_refreshStackedGallery:function(){this.get("images").each(function(e){e.fire("refresh")})},_lightboxifyImages:function(){if(!(this.get("images").size()<1||this.get("isProductQuickView"))){var t=[];this.get("images").each(function(e){t.push({content:e})});var i=this.get("images").size()>1;this._imageClickEvent=this.get("slideContainer").delegate("click",function(s){this.set("lightbox",new e.Squarespace.Lightbox2({controls:{previous:i,next:i},set:t,currentSetIndex:parseInt(s.currentTarget.getAttribute("data-slide-index"),10)-1})),this.get("lightbox").render()},".ProductItem-gallery-slides-item",this)}},_destroyLightbox:function(){this.get("lightbox").destroy(!0),this.set("lightbox",null),this._imageClickEvent.detach(),this._imageClickEvent=null},_instantiateZoom:function(){this._destroyImageZoomInstances(),this._zoomInstances=[],this.get("images").each(function(t){this._zoomInstances.push(new e.Squarespace.ImageZoom({host:t.get("parentNode"),behavior:this.get("isImageZoomBehaviorClick")?"click":"hover",zoom:this.get("imageZoomFactor")}))},this)},_destroyImageZoomInstances:function(){!this._zoomInstances||this._zoomInstances.length<1||(e.Array.each(this._zoomInstances,function(e){e.destroy(!0)}),this._zoomInstances=null)}},{ATTRS:{host:{value:null,validator:function(t){var i=e.one(t);return e.instanceOf(i,e.Node)},writeOnce:!0},slideContainer:{valueFn:function(){return this.get("host").one(".ProductItem-gallery-slides")}},thumbnailContainer:{valueFn:function(){return this.get("host").one(".ProductItem-gallery-thumbnails")}},images:{valueFn:function(){return this.get("host").all(".ProductItem-gallery-slides-item-image")}},thumbnails:{valueFn:function(){return this.get("host").all(".ProductItem-gallery-thumbnails-item-image")}},relatedItemImages:{valueFn:function(){return this.get("host").all(".ProductList-image")}},isProductQuickView:{valueFn:function(){return this.get("host").ancestor(".sqs-product-quick-view-lightbox")}},isImageZoomEnabled:{getter:function(){return e.one(".tweak-product-item-image-zoom-enabled")}},isImageZoomBehaviorClick:{getter:function(){return e.one(".tweak-product-item-image-zoom-behavior-click")}},imageZoomFactor:{getter:function(){return parseFloat(e.Squarespace.Template.getTweakValue("tweak-product-item-image-zoom-factor"))}},isLightboxEnabled:{getter:function(){return e.one(".tweak-product-item-lightbox-enabled")&&!this.get("isImageZoomBehaviorClick")}},isProductGallerySlideshow:{getter:function(){return e.one(".tweak-product-item-gallery-design-slideshow")}},isProductGalleryStacked:{getter:function(){return e.one(".tweak-product-item-gallery-design-stacked")}}}});var t;e.config.win.Squarespace.onInitialize(e,function(){t=[],e.all(".ProductItem.products-collection-v2").each(function(i){if(i.get("parentNode").hasClass("sqs-product-quick-view-content"))return!1;i.one(".ProductItem-details .sqs-add-to-cart-button").removeClass("sqs-editable-button"),t.push(new e.Squarespace.SystemCollections.Products.ItemV2({host:i}))})}),e.config.win.Squarespace.onDestroy(e,function(){t.forEach(function(e){e.destroy()}),t=null})},"1.0",{requires:["base","node","squarespace-beforeunload","squarespace-gallery-ng","squarespace-image-loader","squarespace-image-zoom","squarespace-public-api","squarespace-widgets-lightbox2"]})},8516:function(e,t,i){i(3786),i(2439)}},[8516]);